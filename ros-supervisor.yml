# Master context provides definitions and declarations of a skeleton structure of a ros project
info:
  name: ros_docker_test
  distro: noetic

context:
  use_git_context: true
  branch: deploy/rpi3-dobot-magician-driver
  url: https://github.com/dkhoanguyen/ros_docker

# Custom configuration for setting up roscore and other optional features
core:
  enable_bridge: true # Expose all topics through websockets and allows other third parties to subscribe to the websocket path
  enable_master_discovery: true # Enable multi master feature
  timeout: 5
  start_instances: 1            # Start one container instance at the same time

services:
  dobot_magician_driver:
    type: producer
    repos:
      - url: https://github.com/gapaul/dobot_magician_driver
        branch: improvement/improve-driver-robustness-to-hardware-changes
        current_commit:

  first_producer:
    type: producer
    repos:
      - url: https://github.com/dkhoanguyen/simple_ros_docker_test
        branch: master
        current_commit:
        
  distributor:
    type: distributor
    depends_on:
      - first_producer
    repos:
      - url: https://github.com/dkhoanguyen/simple_ros_docker_test
        branch: master
        current_commit:

  end_consumer:
    type: consumer
    depends_on:
      - first_producer
      - distributor
    repos:
      - url: https://github.com/dkhoanguyen/simple_ros_docker_test
        branch: master
        current_commit:
